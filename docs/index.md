# Notifierアプリ ドキュメント - はじめに

ようこそ Notifier アプリのドキュメントへ！

このドキュメントは、Notionデータベースの変更をトリガーとして、カスタマイズされたメッセージを外部チャットツールに通知する「Notifierアプリ」の仕様、使い方、アーキテクチャなど、あらゆる情報をまとめたものです。

## このアプリでできること

Notifierアプリは、日々のNotionの利用をさらに便利にするためのツールです。主な機能は以下の通りです。

* **リアルタイム通知**: Notionデータベース内のページが新規作成されたり、特定のプロパティが更新されたりした際に、ほぼリアルタイムで指定したチャットツール（Discord、Microsoft Teamsなど、Webhookに対応したサービス）に通知を送信します。
* **柔軟な条件設定**: 通知を送信する条件を、Notionデータベースのプロパティ値に基づいて細かく設定できます。例えば、「ステータスが『完了』になったら通知」「優先度が『高』のタスクが作成されたら通知」といったカスタマイズが可能です。
* **カスタマイズ可能なメッセージ**: 通知されるメッセージの本文は、テンプレートとして自由に編集できます。Notionページのプロパティ値をプレースホルダとして埋め込むことで、状況に応じた具体的な情報を通知に含めることができます。（例: `ページ「{タスク名}」のステータスが{ステータス}に変更されました！`）
* **複数の送信先管理**: 通知を送る先のWebhook URLを複数登録し、テンプレートごとにどの送信先に通知するかを指定できます。これにより、例えば「Aというデータベースの更新はチームXのDiscordチャンネルへ、Bというデータベースの更新はチームYのTeamsチャンネルへ」といった使い分けが可能です。
* **Notion API連携とキャッシュ**: Notion APIを利用してデータベースの構造（プロパティ名、型、選択肢など）を自動的に取得し、メッセージ整形や条件判定に利用します。取得したスキーマ情報は一定時間キャッシュすることで、Notion APIへの負荷を軽減し、処理速度を向上させます。

## ドキュメント構成

このドキュメントは、以下のセクションで構成されています。

* **[はじめに (このページ)](./index.md)**: このアプリでできること、ドキュメント全体の構成について説明します。
* **[アプリケーションアーキテクチャ](./architecture.md)**: このアプリがどのような技術的な設計（クリーンアーキテクチャ）で作られているか、主要なコンポーネントとその役割について解説します。
* **[詳細セットアップ手順](./setup_detailed.md)**: 開発環境の構築から、Notionインテグレーションの設定、Google Cloud Firestoreの準備、環境変数の設定まで、アプリを動かすために必要な手順を詳しく説明します。
* **[APIエンドポイント仕様](./api_reference.md)**: アプリが提供する各APIエンドポイント（テンプレート管理、送信先管理、Webhook受信）の仕様（リクエスト/レスポンス形式、パラメータなど）を解説します。
* **[Webhook処理フロー解説](./webhook_processing_flow.md)**: NotionからWebhookを受信してから、実際にチャットツールに通知が送信されるまでの、アプリ内部の処理の流れを詳しく説明します。
* **[通知テンプレートのプレースホルダ仕様](./template_placeholders.md)**: 通知メッセージのテンプレートで使用できるプレースホルダの種類と、それぞれの意味、Notionプロパティタイプごとの出力形式などを解説します。

このドキュメントが、Notifierアプリを理解し、活用するための一助となれば幸いです。
